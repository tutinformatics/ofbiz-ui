<template>
  <require from="../../general/icons/manage/manageIcon"></require>
  <require from="../../general/icons/affIcon"></require>
  <require from="../../general/page-title/affPageTitle"></require>
  <require from="../../general/filter/affFilter"></require>

  <div class="row flex-column mx-3 text-center mt-5">
    <div class="col-md-9 mx-auto">
      <aff-page-title
        main-text.one-way="'Here you can find information about all affiliate partners'">
      </aff-page-title>
    </div>
    <div class="col-md-9 mx-auto my-3">
      <label for="selectFilter">Choose filter to search by and start the search</label>
      <div class="input-group my-4">
        <select id="selectFilter" class=" custom-select col-3 aff-all-affiliates__select--filter"
                value.bind="selectedFilter">
          <option model.bind=null>Choose</option>
          <option class="option" repeat.for="key of allKeys"
                  model.bind="key">
            ${key}
          </option>
        </select>
        <input type="text" class="form-control aff-all-affiliates__select--input" placeholder="Enter filter text"
               class="form-control" input.delegate="getFilteredValues($event.target.value)"/>
      </div>
    </div>
    <div class="col-md-9 mx-auto table-responsive-md text-center">
      <table class="table table-striped table-dark table-bordered table-hover">
        <thead>
        <tr>
          <th scope="col">First name</th>
          <th scope="col">Last name</th>
          <th scope="col">Date</th>
          <th scope="col">Email</th>
          <th scope="col">Status</th>
        </tr>
        </thead>
        <tbody>
        <tr class="aff-member-table__row" repeat.for="user of filteredValues">
          <td>${user['firstName']}</td>
          <td>${user['lastName']}</td>
          <td>${user['dateTimeCreated']}</td>
          <td><a href="mailto:${user['email']}">${user['email']}</a></td>
          <td>${user['status']}</td>
          <td class="aff-table__action-icon">
            <aff-icon
              click.trigger="managePartner(user['email'])">
              <manage-icon></manage-icon>
            </aff-icon>
          </td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>
</template>
